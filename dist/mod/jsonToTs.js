"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&e(o,r,n);return t(o,r),o};Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOptions=exports.jsonToTs=void 0;const o=require("./jsonCleaner"),n=require("./_jsonToTs"),i=require("./_jsonToTsOptions");Object.defineProperty(exports,"defaultOptions",{enumerable:!0,get:function(){return i.defaultOptions}}),exports.jsonToTs=async function(e,t={}){if(t={...i.defaultOptions,...t},!(e="string"==typeof e?(0,o.jsonCleaner)(e.trim()):(0,o.jsonCleaner)(String(e).trim())))throw new Error("Target is empty");const s=JSON.parse(e);if("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"symbol"==typeof s||"bigint"==typeof s||void 0===s)throw new Error("Invalid input data type");t.rootTypeName||(t.rootTypeName="IRoot");let a=[],u="export type "+t.rootTypeName+" = "+(0,n._jsonToTs)(s,t.inlineType,a);if(a.length){a=a.filter(((e,t,r)=>r.indexOf(e)>=t));for(const e of a)u=u+"\n\n"+e+"\n"}if(!t.withPrettier)return u;const{format:l}=await Promise.resolve().then((()=>r(require("prettier/standalone")))),{default:p}=await Promise.resolve().then((()=>r(require("prettier/plugins/estree")))),{default:f}=await Promise.resolve().then((()=>r(require("prettier/plugins/babel"))));return u=await l(u,{plugins:[p,f],parser:"babel-ts",printWidth:t.printWidth,semi:t.semicolon,tabWidth:t.tabWidth}),u};